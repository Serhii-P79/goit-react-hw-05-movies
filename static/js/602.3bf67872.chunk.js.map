{"version":3,"file":"static/js/602.3bf67872.chunk.js","mappings":"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","sources":["hooks/useFetchMovies.js","pages/MovieDetailsPage.jsx","pages/pages.styled.jsx","services/FilmApi.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  getTrending,\n  getMovieDetailsById,\n  getMovieCredits,\n  getMovieReviews,\n} from 'services';\n\nexport const useFetchMovies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    async function fetchMovies() {\n      setLoading(true);\n      try {\n        const { results } = await getTrending();\n        setMovies(results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovies();\n  }, []);\n\n  return { movies, loading, error };\n};\n\nexport const useFetchMovieDetails = id => {\n  const [movie, setMovie] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    async function fetchMovieId() {\n      setLoading(true);\n      try {\n        const results = await getMovieDetailsById(id);\n     //   console.log(results);\n        setMovie(results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovieId();\n  }, [id]);\n\n  return { movie, loading, error };\n};\n\nexport const useFetchMovieCast = id => {\n  const [movieCredits, setMovieCredits] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    async function fetchMovieId() {\n      setLoading(true);\n      try {\n        const results = await getMovieCredits(id);\n   //     console.log(results);\n        setMovieCredits(results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovieId();\n  }, [id]);\n\n  return { movieCredits, loading, error };\n};\n\nexport const useFetchMovieReviews = id => {\n  const [movieReviews, setMovieReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    async function fetchMovieId() {\n      setLoading(true);\n      try {\n        const results = await getMovieReviews(id);\n   //     console.log(results);\n        setMovieReviews(results);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovieId();\n  }, [id]);\n\n  return { movieReviews, loading, error };\n};\n","//import styled from 'styled-components';\nimport { Suspense } from 'react';\nimport { Outlet, Link, useParams } from 'react-router-dom';\nimport { Loader } from 'components';\nimport { useNavigate, useLocation } from 'react-router-dom';\n//import { useEffect } from 'react';\n// import { getMovieDetailsById } from 'services';\nimport { useFetchMovieDetails } from 'hooks';\nimport { useState } from 'react';\nimport no_img from 'img/no_image.png';\nimport {\n  GoToBack,\n  DetailsPage,\n  Description,\n  AdditionalInformation,\n} from './pages.styled';\n\n// const Link = styled(NavLink)`\n//   &.active {\n//     color: tomato;\n//   }\n// `;\n\nexport const MovieDetailsPage = () => {\n  const { movieId } = useParams();\n  const { movie, loading, error } = useFetchMovieDetails(movieId);\n  // const [from, setFrom] = useState('null');\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // const fromL =\n  //   location.state?.from?.pathname + location.state?.from?.search || '/';\n  // console.log(location);\n\n  const [from] = useState(\n    location.state?.from?.pathname + location.state?.from?.search || '/'\n  );\n\n  // useEffect(() => {\n  //   setFrom(fromL);\n  //   //// eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [fromL]);\n  //console.log(movieId);\n\n  // console.log(navigate);\n  // console.log('location - ', location);\n\n  //const from = location.state?.from?.pathname + location.state?.from?.search;\n\n  //console.log('from - ', from);\n\n  //console.log(movie);\n\n  const { poster_path, original_title, overview, genres, vote_average } = movie;\n\n  const genresStr =\n    genres &&\n    genres\n      .map(({ name }) => {\n        return name;\n      })\n      .join(', ');\n\n  // onClick={() => navigate(-1)}\n\n  return (\n    <main>\n      <GoToBack type=\"button\" onClick={() => navigate(from)}>\n        Go to back\n      </GoToBack>\n\n      {loading && <Loader />}\n      {!error && !loading && (\n        <>\n          <DetailsPage>\n            <img\n              src={\n                poster_path\n                  ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n                  : no_img\n              }\n              alt={original_title}\n            />\n            <Description>\n              <h3>{original_title}</h3>\n              <span>User Score: </span>\n              <span>{Number(vote_average) * 10}%</span>\n              <h4>Overview</h4>\n              <p>{overview}</p>\n              <h4>Genres</h4>\n              <p>{genresStr}</p>\n            </Description>\n          </DetailsPage>\n          <AdditionalInformation>\n            <h4>Additional information</h4>\n            <ul>\n              <li>\n                <Link to={`/movies/${movieId}/cast`}>cast</Link>\n              </li>\n              <li>\n                <Link to={`/movies/${movieId}/reviews`}>reviews</Link>\n              </li>\n            </ul>\n          </AdditionalInformation>\n          <Suspense fallback=\"\">\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </main>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Movies = styled.ul`\n  padding-left: 25px;\n  > :not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n\nexport const GoToBack = styled.button`\n  padding: 5px 15px;\n  margin-bottom: 5px;\n`;\n\nexport const DetailsPage = styled.div`\n  display: flex;\n  margin-bottom: 15px;\n  > img {\n    height: 400px;\n    width: 266px;\n  }\n  p {\n    width: 95%;\n  }\n`;\n\nexport const Description = styled.div`\n  padding-left: 20px;\n  h4 {\n    margin-top: 10px;\n  }\n`;\n\nexport const AdditionalInformation = styled.div`\n  margin-bottom: 10px;\n  ul {\n    padding-left: 25px;\n  }\n`;\n\nexport const SearchBTN = styled.button`\n  padding: 2px 10px;\n`;\n\nexport const SearchForm = styled.form`\n  margin-bottom: 10px;\n`;\n","import axios from 'axios';\n\n// https://api.themoviedb.org/3/movie/550?api_key=0ba81670c9cf6e5d09ab4fdfcce59e32\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst api_key = '0ba81670c9cf6e5d09ab4fdfcce59e32';\n\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\nexport const getTrending = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${api_key}`);\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&query=bnvbnvbnvbn&page=1&include_adult=false\nexport const getSearchMovie = async query => {\n  const response = await axios.get(\n    `/search/movie?api_key=${api_key}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/15?api_key=<<api_key>>&language=en-US\nexport const getMovieDetailsById = async id => {\n  const response = await axios.get(\n    `/movie/${id}?api_key=${api_key}&language=en-US`\n  );\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/15/credits?api_key=<<api_key>>&language=en-US\nexport const getMovieCredits = async id => {\n  const response = await axios.get(\n    `/movie/${id}/credits?api_key=${api_key}&language=en-US`\n  );\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/15/reviews?api_key=<<api_key>>&language=en-US&page=1\nexport const getMovieReviews = async id => {\n  const response = await axios.get(\n    `/movie/${id}/reviews?api_key=${api_key}&language=en-US&page=1`\n  );\n  return response.data;\n};\n"],"names":["useFetchMovies","useState","movies","setMovies","error","setError","loading","setLoading","useEffect","getTrending","results","fetchMovies","useFetchMovieDetails","id","movie","setMovie","getMovieDetailsById","fetchMovieId","useFetchMovieCast","movieCredits","setMovieCredits","getMovieCredits","useFetchMovieReviews","movieReviews","setMovieReviews","getMovieReviews","MovieDetailsPage","movieId","useParams","navigate","useNavigate","location","useLocation","state","from","pathname","search","poster_path","original_title","overview","genres","vote_average","genresStr","map","name","join","type","onClick","src","no_img","alt","Number","to","Suspense","fallback","Movies","styled","GoToBack","DetailsPage","Description","AdditionalInformation","SearchBTN","SearchForm","axios","api_key","response","data","getSearchMovie","query"],"sourceRoot":""}