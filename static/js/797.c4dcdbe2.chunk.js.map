{"version":3,"file":"static/js/797.c4dcdbe2.chunk.js","mappings":"ySAMaA,EAAa,WACxB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAaF,EAAaG,IAAI,KAE9BC,GAAWC,EAAAA,EAAAA,OAIjBC,EAAAA,EAAAA,YAAU,WACR,GAAIJ,EAAY,CAAC,IACAK,EADD,mCACd,6FACET,GAAW,GADb,mBAG8BU,EAAAA,EAAAA,IAAeN,GAH7C,gBAGYO,EAHZ,EAGYA,QACRf,EAAUe,GAJd,gDAMIb,EAAS,EAAD,IANZ,yBAQIE,GAAW,GARf,4EADc,qDAYdS,OAED,CAACL,IAYJ,OACE,6BACE,UAAC,EAAAQ,WAAD,CAAYC,OAAO,GAAGC,SAVP,SAAAC,GACjBA,EAAEC,iBAGF,IAAMC,EAAIF,EAAEG,cAAcC,SAASC,YAAYC,MAC/ClB,EAAgB,CAAEc,EAAAA,KAKhB,WACE,kBAAOK,KAAK,OAAOC,KAAK,iBACxB,SAAC,EAAAC,UAAD,CAAWF,KAAK,SAAhB,uBAEDvB,IAAW,SAAC,KAAD,KACVF,GAASF,IACT,SAAC,EAAA8B,OAAD,UACG9B,EAAO+B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMzB,GAA1C,SACGsB,KAFID,a,gTCpDRF,EAASO,EAAAA,GAAAA,GAAH,sGAONC,EAAWD,EAAAA,GAAAA,OAAH,qEAKRE,EAAcF,EAAAA,GAAAA,IAAH,sJAYXG,EAAcH,EAAAA,GAAAA,IAAH,mFAOXI,EAAwBJ,EAAAA,GAAAA,IAAH,sFAOrBR,EAAYQ,EAAAA,GAAAA,OAAH,8CAITpB,EAAaoB,EAAAA,GAAAA,KAAH,iD,0MCxCvBK,IAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,mCAGHC,EAAW,mCAAG,oGACFF,IAAAA,IAAA,sCAAyCC,IADvC,cACnBE,EADmB,yBAElBA,EAASC,MAFS,2CAAH,qDAMX/B,EAAc,mCAAG,WAAMgC,GAAN,uFACLL,IAAAA,IAAA,gCACIC,EADJ,iCACoCI,EADpC,gCADK,cACtBF,EADsB,yBAIrBA,EAASC,MAJY,2CAAH,sDAQdE,EAAmB,mCAAG,WAAMhB,GAAN,uFACVU,IAAAA,IAAA,iBACXV,EADW,oBACGW,EADH,oBADU,cAC3BE,EAD2B,yBAI1BA,EAASC,MAJiB,2CAAH,sDAQnBG,EAAe,mCAAG,WAAMjB,GAAN,uFACNU,IAAAA,IAAA,iBACXV,EADW,4BACWW,EADX,oBADM,cACvBE,EADuB,yBAItBA,EAASC,MAJa,2CAAH,sDAQfI,EAAe,mCAAG,WAAMlB,GAAN,uFACNU,IAAAA,IAAA,iBACXV,EADW,4BACWW,EADX,2BADM,cACvBE,EADuB,yBAItBA,EAASC,MAJa,2CAAH","sources":["pages/MoviesPage.jsx","pages/pages.styled.jsx","services/FilmApi.js"],"sourcesContent":["import { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getSearchMovie } from 'services';\nimport { SearchBTN, Movies, SearchForm } from './pages.styled';\nimport { Loader } from 'components';\n\nexport const MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchLine = searchParams.get('q');\n\n  const location = useLocation();\n\n  //console.log('location - MoviesPage - ', location);\n\n  useEffect(() => {\n    if (searchLine) {\n      async function fetchMovies() {\n        setLoading(true);\n        try {\n          const { results } = await getSearchMovie(searchLine);\n          setMovies(results);\n        } catch (error) {\n          setError(error);\n        } finally {\n          setLoading(false);\n        }\n      }\n      fetchMovies();\n    }\n  }, [searchLine]);\n\n  //console.log(searchLine);\n\n  const filmSearch = e => {\n    e.preventDefault();\n    // console.log('сабмит остановлен');\n    // console.log(e.currentTarget.elements.search_line.value);\n    const q = e.currentTarget.elements.search_line.value;\n    setSearchParams({ q });\n  };\n\n  return (\n    <main>\n      <SearchForm action=\"\" onSubmit={filmSearch}>\n        <input type=\"text\" name=\"search_line\"></input>\n        <SearchBTN type=\"submit\">Search</SearchBTN>\n      </SearchForm>\n      {loading && <Loader />}\n      {!error && movies && (\n        <Movies>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </Movies>\n      )}\n    </main>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Movies = styled.ul`\n  padding-left: 25px;\n  > :not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n\nexport const GoToBack = styled.button`\n  padding: 5px 15px;\n  margin-bottom: 5px;\n`;\n\nexport const DetailsPage = styled.div`\n  display: flex;\n  margin-bottom: 15px;\n  > img {\n    height: 400px;\n    width: 266px;\n  }\n  p {\n    width: 95%;\n  }\n`;\n\nexport const Description = styled.div`\n  padding-left: 20px;\n  h4 {\n    margin-top: 10px;\n  }\n`;\n\nexport const AdditionalInformation = styled.div`\n  margin-bottom: 10px;\n  ul {\n    padding-left: 25px;\n  }\n`;\n\nexport const SearchBTN = styled.button`\n  padding: 2px 10px;\n`;\n\nexport const SearchForm = styled.form`\n  margin-bottom: 10px;\n`;\n","import axios from 'axios';\n\n// https://api.themoviedb.org/3/movie/550?api_key=0ba81670c9cf6e5d09ab4fdfcce59e32\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst api_key = '0ba81670c9cf6e5d09ab4fdfcce59e32';\n\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\nexport const getTrending = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${api_key}`);\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&query=bnvbnvbnvbn&page=1&include_adult=false\nexport const getSearchMovie = async query => {\n  const response = await axios.get(\n    `/search/movie?api_key=${api_key}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/15?api_key=<<api_key>>&language=en-US\nexport const getMovieDetailsById = async id => {\n  const response = await axios.get(\n    `/movie/${id}?api_key=${api_key}&language=en-US`\n  );\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/15/credits?api_key=<<api_key>>&language=en-US\nexport const getMovieCredits = async id => {\n  const response = await axios.get(\n    `/movie/${id}/credits?api_key=${api_key}&language=en-US`\n  );\n  return response.data;\n};\n\n// https://api.themoviedb.org/3/movie/15/reviews?api_key=<<api_key>>&language=en-US&page=1\nexport const getMovieReviews = async id => {\n  const response = await axios.get(\n    `/movie/${id}/reviews?api_key=${api_key}&language=en-US&page=1`\n  );\n  return response.data;\n};\n"],"names":["MoviesPage","useState","movies","setMovies","error","setError","loading","setLoading","useSearchParams","searchParams","setSearchParams","searchLine","get","location","useLocation","useEffect","fetchMovies","getSearchMovie","results","SearchForm","action","onSubmit","e","preventDefault","q","currentTarget","elements","search_line","value","type","name","SearchBTN","Movies","map","id","title","to","state","from","styled","GoToBack","DetailsPage","Description","AdditionalInformation","axios","api_key","getTrending","response","data","query","getMovieDetailsById","getMovieCredits","getMovieReviews"],"sourceRoot":""}